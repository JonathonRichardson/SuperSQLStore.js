var SuperSQLStore={};!function(){SuperSQLStore.ObservableRow=Classify.newClass({constructor:function(e){var n=this;e=e||{};var t=e.row;n._originalData=t,n._columns={},jQuery.each(_.keys(t),function(e,r){var o=t[r];_.isArray(o)||0!==_.keys(o).length||r.toString().match(/^_/)||null!==o&&o.toString().match(/^urn:/)||(n[r]=ko.observable(o),n._columns[r]=!0)})},methods:{getColumn:function(e){return e in this._columns&&ko.isObservable(this[e])?this[e]():void 0},setColumn:function(e,n){if(e in this._columns&&ko.isObservable(this[e])){var t=this[e]();return this[e](n),t}return void 0},hasBeenModified:function(){var e=this,n=!1;return jQuery.each(this._columns,function(t){e._originalData[t]!==e.getColumn(t)&&(n=!0)}),n},columnHasBeenModified:function(e){return self._originalData[e]!==self.getColumn(e)?!0:!1}},computeds:{getRawRowData:function(){var e=this,n=_.clone(this._originalData);return jQuery.each(this._columns,function(t){n[t]=e.getColumn(t)}),n}}}),SuperSQLStore.ObservableTable=Classify.newClass({constructor:function(e){e=e||{};var n=e.rows,t=[];e=e||{};var r=SuperSQLStore.ObservableRow;"rowConstructor"in e&&(r=e.rowConstructor),jQuery.each(n,function(e,n){t.push(new r({row:n}))}),this.rows=ko.observableArray(t)},methods:{each:function(e){ko.utils.arrayForEach(this.rows(),function(n){e.call(n,n)})}},computeds:{getRawRows:function(){var e=[];return ko.utils.arrayForEach(this.rows(),function(n){e.push(n.getRawRowData())}),e},changedRowsRaw:function(){var e=_.filter(this.rows(),function(e){return e.hasBeenModified()?!0:!1});return e=_.map(e,function(e){return e.getRawRowData()})}}}),SuperSQLStore.IndexedObservableTable=Classify.newClass({parent:SuperSQLStore.ObservableTable,constructor:function(e){var n=this;if(!("key"in e))throw"You need to supply a key to index on in an IndexedObservableTable";this.keyForIndex=e.key,this.keyIndex={},_.each(this.rows(),function(e,t){n.keyIndex[ko.unwrap(e[n.keyForIndex])]=t}),this.rows.subscribe(function(e){_.each(e,function(e){var t=ko.unwrap(e.value[n.keyForIndex]),r=n.keyIndex;"moved"in e?r[t]=e.moved:"added"===status?r[t]=e.index:"deleted"===status&&delete r[t]})},null,"arrayChange")},methods:{getRowByKey:function(e){return this.rows()[this.keyIndex[e]]}}}),SuperSQLStore.Version="0.0.10"}();